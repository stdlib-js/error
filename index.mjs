// Copyright (c) 2022 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import r from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-read-only-property@esm/index.mjs";import e from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-keys@esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-string@esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-copy@esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-error@esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/string-format@esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-instance-of@esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-constructor-name@esm/index.mjs";import m from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-get-prototype-of@esm/index.mjs";var d={Error:Error,TypeError:TypeError,SyntaxError:SyntaxError,ReferenceError:ReferenceError,URIError:URIError,EvalError:EvalError,RangeError:RangeError},l=e,E=s.isPrimitive,c=d;var p=function(r,e){var s,t,o,n,i,a;if(e&&e.type&&E(e.message)&&(t=c[e.type])){for(n=new t(e.message),o=l(e),a=0;a<o.length;a++)if("type"!==(i=o[a])&&"message"!==i&&"name"!==i){if("stack"===i){if(!E(e[i]))continue;s=!0}n[i]=e[i]}return!s&&E(n.stack)&&(n.stack=""),n}return e},f=[[TypeError,"TypeError"],[SyntaxError,"SyntaxError"],[ReferenceError,"ReferenceError"],[RangeError,"RangeError"],[URIError,"URIError"],[EvalError,"EvalError"],[Error,"Error"]],j=i,v=a,g=m,h=f;var y=e,u=t,x=o,R=n,b=function(r){var e,s;for(s=0;s<h.length;s++)if(j(r,h[s][0]))return h[s][1];for(;r;){for(e=v(r),s=0;s<h.length;s++)if(e===h[s][1])return h[s][1];r=g(r)}};var k=function(r){var e,s,t;if(!x(r))throw new TypeError(R("invalid argument. Must provide an error object. Value: `%s`.",r));for((s={}).type=b(r),s.message=r.message,r.name&&(s.name=r.name),r.stack&&(s.stack=r.stack),r.code&&(s.code=r.code),r.errno&&(s.errno=r.errno),r.syscall&&(s.syscall=r.syscall),e=y(r),t=0;t<e.length;t++)s[e[t]]=u(r[e[t]]);return s},T={};r(T,"reviveError",p),r(T,"error2json",k);export{T as default,k as error2json,p as reviveError};
//# sourceMappingURL=index.mjs.map
